## Intent Map
### 1 ä½œç”¨
#### 1. ç”¨æ¥åšæ„å›¾è¯†åˆ«ï¼ˆIntent Classificationï¼‰

Orchestrator Agent ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥ï¼Œä»è¿™ä»½ JSON ä¸­æŒ‘é€‰ï¼š

- intentï¼ˆç”¨æˆ·æƒ³åšä»€ä¹ˆï¼‰
- domainï¼ˆåº”è¯¥è·¯ç”±ç»™å“ªä¸ªå­å›¾ï¼‰
- action_typeï¼ˆé—®ï¼ŸæŸ¥ï¼Ÿæ§ï¼Ÿè§„åˆ’ï¼Ÿï¼‰
- slotsï¼ˆå‚æ•°ï¼‰
- safety tagï¼ˆæ˜¯å¦éœ€è¦å®‰å…¨è¿‡æ»¤ï¼‰

è¾“å‡ºç±»ä¼¼ï¼š
```py
{
  "intent": "vehicle_control_ac",
  "domain": "vehicle",
  "action_type": "control",
  "slots": {
    "temperature": 22
  }
}
```

ç„¶å LangGraph æ‰çŸ¥é“æ€ä¹ˆèµ°ã€‚

#### 2. ç”¨æ¥åš LangGraph å­å›¾è·¯ç”±

ä½ çš„ LangGraph ä¸»å›¾æ˜¯è¿™æ ·åšåˆ†æ”¯çš„ï¼š
```py
if state.domain == "manual":
    go to manual_rag_subgraph
elif state.domain == "vehicle":
    go to vehicle_control_subgraph
elif state.domain == "navigation":
    go to navigation_subgraph
```

â†’ æ„å›¾ map é‡Œæ‰€æœ‰ domainï¼Œå°±æ˜¯ä½ çš„å­å›¾å…¥å£ç‚¹ã€‚

å¦‚æœ domain ä¸å®šä¹‰ï¼Œä½ å°±æ— æ³•çŸ¥é“å¾€å“ªè·³ã€‚

#### 3. ç”¨æ¥åšå¤šæ„å›¾ï¼ˆmulti-intentï¼‰æ‹†åˆ†ä¸ task planning

æ¯”å¦‚ï¼šâ€œå¯¼èˆªåˆ°æ­å·ç„¶åæŠŠç©ºè°ƒè°ƒåˆ° 22 åº¦â€

Orchestrator ä¼šè¾“å‡ºä¸¤ä¸ª intentï¼š
```py
[
  { "intent": "navigation_set_destination", "domain": "navigation" },
  { "intent": "vehicle_control_ac", "domain": "vehicle" }
]
```

ç„¶å Task Planner å¯ä»¥ä¾æ¬¡è°ƒä¸åŒå­å›¾ã€‚

â†’ æ„å›¾ map å°±æ˜¯ Planner æ‹†ä»»åŠ¡çš„ blueprintã€‚

#### 4. è®©æ‰€æœ‰ Agent æœ‰å…±åŒè¯­è¨€ï¼ˆA2A åè®®ï¼‰

å¤š Agent ç³»ç»Ÿå¿…é¡»æœ‰ç»Ÿä¸€åè®®ï¼Œä¸ç„¶ä¼šå‡ºç°ï¼š

- Manual Agent ä¸çŸ¥é“ Navigation Agent èƒ½å¹²å˜›
- Safety Agent ä¸çŸ¥é“ Vehicle Agent çš„åŠ¨ä½œæ˜¯å¦å±é™©
- Planner ä¸çŸ¥é“æŸæ„å›¾å¯¹åº”å“ªä¸ªå­å›¾

æ„å›¾ map å°±æ˜¯ï¼šA2Aï¼ˆAgent-to-Agentï¼‰é€šä¿¡çš„åè®®ä¸è¯å…¸ã€‚

#### 5. ç”¨æ¥åš RAG ä¸ Control çš„åŒºåˆ«åˆ¤æ–­

æ¯”å¦‚ï¼š
```
â€œæ€ä¹ˆå¼€ç©ºè°ƒï¼Ÿâ€ â†’ manual_feature_usageï¼ˆæŸ¥æ‰‹å†Œ RAGï¼‰
â€œå¸®æˆ‘å¼€ç©ºè°ƒã€‚â€ â†’ vehicle_control_acï¼ˆæ§åˆ¶ï¼‰
```
æ²¡æœ‰æ„å›¾ mapï¼ŒLLM ç»å¸¸ä¼šæ··æ·†è¿™ä¸¤ç±»é—®é¢˜ã€‚

#### 6. ç”¨æ¥åšå·¥å…·å‚æ•°å¡«å……ï¼ˆslot fillingï¼‰

Vehicle æ§åˆ¶éœ€è¦ç»“æ„åŒ–å‚æ•°ï¼š

- æ¸©åº¦ï¼Ÿ
- é£é‡ï¼Ÿ
- è½¦çª—ä½ç½®ï¼Ÿ
- ç™¾åˆ†æ¯”ï¼Ÿ

è¿™äº› slots éƒ½æ¥è‡ªæ„å›¾ mapã€‚

æ²¡æœ‰ slot schemaï¼ŒLLM ä¸çŸ¥é“è¾“å‡ºç¥é©¬æ ¼å¼ï¼Œå·¥å…·æ— æ³•æ‰§è¡Œã€‚

#### 7. ç”¨æ¥åšå®‰å…¨è¿‡æ»¤ï¼ˆSafety Guard Agentï¼‰

ä¾‹å¦‚ï¼š
- å…³é—­å®‰å…¨æ°”å›Š â†’ å¿…é¡»æ‹’ç»
- ç§»åŠ¨åº§æ¤… â†’ é©¾é©¶ä¸­å¿…é¡»æç¤ºé£é™©
- æ’­å®¢æ’­æ”¾ â†’ é©¾é©¶ä¸­å…è®¸ä½†éœ€ç®€çŸ­è¯´æ˜

æ„å›¾ map é‡Œæœ‰ï¼š
```py
"safety": { "needs_safety_review": true, "tags": ["safety_critical"] }
```

Safety Agent å°±èƒ½è‡ªåŠ¨æ‹’ç»æˆ–é™çº§ã€‚

### 2 ğŸ“Œ ç›´è§‚ä¾‹å­ï¼šä¸ºä»€ä¹ˆå¿…é¡»è¦è¿™ä»½æ„å›¾ mapï¼Ÿ

ç”¨æˆ·è¯´ï¼šâ€œå¸®æˆ‘æ‰¾é™„è¿‘çš„ç«é”…åº—ï¼Œç„¶åæ‰“å¼€ä¸»é©¾åº§æ¤…åŠ çƒ­ã€‚â€

Orchestrator LLM çœ‹ JSON åçŸ¥é“ï¼š
- è¿™æ˜¯ä¸¤ä¸ªæ„å›¾
- ä¸€ä¸ªå±äº navigationï¼Œä¸€ä¸ªå±äº vehicle
- å„è‡ªéœ€è¦çš„ slotsï¼ˆpoi_type="ç«é”…"ã€seat_position="driver"ï¼‰
- ç„¶åç”Ÿæˆï¼š
```py
{
  "intent_type": "parallel",
  "intents": [
    { "domain": "navigation", "intent": "navigation_poi_search", "slots": {"poi_type": "ç«é”…"} },
    { "domain": "vehicle", "intent": "vehicle_control_seat", "slots": {"seat_position": "driver", "feature": "heating"} }
  ]
}
```

ç”± LangGraph è‡ªåŠ¨æ‰§è¡Œï¼š
```
Planner â†’ NavigationAgent
Planner â†’ VehicleAgent
SafetyGuard â†’ Output
```

æ²¡æœ‰æ„å›¾ map â†’ ç³»ç»Ÿå®Œå…¨æ— æ³•åšåˆ°è¿™ç§ A2A å¤šæ­¥éª¤ä»»åŠ¡åˆ†é…ã€‚

### ğŸ”¥ ä¸€å¥æœ€ç»ˆæ€»ç»“

è¿™ä»½ JSON ä¸æ˜¯æ•°æ®æœ¬èº«ï¼Œä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯ï¼š
```
ğŸ‘‰ æ•´ä¸ªå¤š Agent æ¶æ„çš„â€œAPI æ–‡æ¡£ + åè®® + è§„åˆ™é›† + è·¯ç”±è¡¨ + æ’ä»¶ç›®å½• + å®‰å…¨ç­–ç•¥ + slot schema + Planner æŒ‡å—â€ã€‚
```
æ¢å¥è¯è¯´ï¼šä½ çš„æ™ºèƒ½åŠ©æ‰‹çš„â€œä¸–ç•Œè§‚â€å’Œâ€œæ“ä½œç³»ç»Ÿå…ƒæ•°æ®â€å…¨éƒ¨å®šä¹‰åœ¨è¿™é‡Œã€‚