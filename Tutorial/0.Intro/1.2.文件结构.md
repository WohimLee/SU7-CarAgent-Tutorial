```
car-assistant/
├── pyproject.toml / requirements.txt   # 依赖
├── .env                                # 本地环境变量（DB、API key 等）
├── .gitignore
├── docker/
│   ├── Dockerfile
│   └── docker-compose.yml              # 可选：Redis/Milvus/ES/MySQL 一起起
├── scripts/
│   ├── build_index.py                  # 构建/更新 RAG 索引
│   ├── run_dev_server.py               # 本地启动 API + LangGraph
│   └── debug_graph.py                  # 图调试工具脚本
├── tests/
│   ├── test_graph_main.py
│   ├── test_rag_pipeline.py
│   ├── test_retrievers.py
│   └── test_tools_vehicle.py
└── su7/
        ├── __init__.py
        ├── config/
        │   ├── __init__.py
        │   ├── settings.py             # pydantic Settings，读 .env
        │   └── logging.yaml            # 日志配置
        ├── core/
        │   ├── state.py                # LangGraph State 定义
        │   ├── schemas.py              # Pydantic 模型（请求/响应）
        │   ├── constants.py
        │   └── errors.py
        ├── graphs/
        │   ├── __init__.py
        │   ├── main_graph.py           # 顶层 Orchestrator Graph
        │   └── subgraphs/
        │       ├── manual_rag_graph.py
        │       ├── vehicle_control_graph.py
        │       ├── navigation_graph.py
        │       ├── task_planner_graph.py
        │       └── safety_guard_graph.py
        ├── agents/
        │   ├── __init__.py
        │   ├── orchestrator_agent.py   # 意图识别 & 路由
        │   ├── manual_rag_agent.py     # 手册专家
        │   ├── vehicle_control_agent.py
        │   ├── navigation_agent.py
        │   ├── task_planner_agent.py
        │   └── safety_agent.py
        ├── rag/
        │   ├── __init__.py
        │   ├── pipelines.py            # end-to-end RAG pipeline
        │   ├── retrievers/
        │   │   ├── __init__.py
        │   │   ├── base.py
        │   │   ├── milvus_retriever.py
        │   │   ├── es_retriever.py
        │   │   ├── redis_retriever.py
        │   │   └── hybrid_retriever.py # 聚合 Milvus/ES/Redis
        │   ├── indexers/
        │   │   ├── __init__.py
        │   │   ├── milvus_indexer.py
        │   │   └── es_indexer.py
        │   └── chunking/
        │       ├── __init__.py
        │       └── manual_chunker.py
        ├── tools/
        │   ├── __init__.py
        │   ├── vehicle_api.py          # 调车机底层接口
        │   ├── navigation_api.py       # 地图/导航服务
        │   ├── mysql_client.py
        │   ├── redis_client.py
        │   ├── es_client.py
        │   └── milvus_client.py
        ├── persistence/
        │   ├── __init__.py
        │   ├── checkpointer.py         # LangGraph Checkpointer 封装
        │   ├── redis_checkpointer.py   # Redis 实现
        │   └── user_profile_store.py   # 比如 MySQL 中的用户偏好
        ├── interfaces/
        │   ├── __init__.py
        │   ├── api_http.py             # FastAPI / Flask 对外接口
        │   ├── api_schemas.py          # 对外 API 的请求/响应模型
        │   └── car_hmi_adapter.py      # 与车载 HMI/中控系统对接
        └── runtime/
            ├── __init__.py
            ├── app.py                  # 创建 app、加载 graph、注入依赖
            └── wiring.py               # 依赖注入/单例（DB、LLM client、graph）
```